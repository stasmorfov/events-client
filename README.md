# Events client

Это REST API, реализованное на Laravel 12, которое выступает в роли тонкого клиента для внешнего API по продаже билетов. Оно предоставляет набор эндпоинтов для получения информации о мероприятиях и для бронирования мест.

## Системные требования

Перед началом установки убедитесь, что на вашей машине установлены:

-   **PHP 8.4**
-   **Composer** (менеджер зависимостей для PHP)
-   **Git**

## Установка и запуск проекта

### 1. Клонирование репозитория

Склонируйте репозиторий с помощью Git и перейдите в созданную директорию:

```bash
git clone https://github.com/stasmorfov/events-client
cd events-client
```

### 2. Установка зависимостей

Проект использует Composer для управления PHP-пакетами. Выполните следующую команду для их установки:

```bash
composer install
```

### 3. Настройка файла окружения

Создайте рабочий файл конфигурации `.env` на основе предоставленного шаблона:

```bash
cp .env.example .env
```

После этого необходимо сгенерировать уникальный ключ шифрования для вашего приложения:

```bash
php artisan key:generate
```

**Важно:** Откройте созданный `.env` файл и убедитесь, что значение переменной `APP_URL` соответствует адресу вашего локального сервера (по умолчанию `http://localhost:8000`). Настройка для документации API зависит от этой переменной.

### 4. Генерация документации

API проекта документировано с помощью Swagger. Перед первым запуском необходимо сгенерировать файл документации. Выполните команду:

```bash
php artisan l5-swagger:generate
```

### 5. Запуск локального сервера

Теперь проект готов к запуску. Используйте встроенный сервер Laravel Artisan:

```bash
php artisan serve
```

После успешного запуска ваше API будет доступно по адресу, указанному в переменной `APP_URL` (например, `http://localhost:8000`).

## Использование API

### Доступ к документации

Интерактивная документация API, где можно ознакомиться со всеми эндпоинтами и выполнить тестовые запросы, доступна по следующему URL:

[http://localhost:8000/api/documentation](http://localhost:8000/api/documentation)
*(Замените `localhost:8000` на адрес вашего сервера, если он отличается)*

### Основные эндпоинты

-   **Получить список мероприятий:** `GET /api/shows`
-   **Получить детали мероприятия:** `GET /api/shows/{showId}`
-   **Получить схему зала события:** `GET /api/shows/{showId}/events/{eventId}/places`
-   **Забронировать места:** `POST /api/shows/{showId}/events/{eventId}/reserve`
    -   **Тело запроса (JSON):**
        ```json
        {
            "buyer_name": "Иван Иванов",
            "places": [1, 2, 3]
        }
        ```

## Тестирование

Проект содержит автоматические тесты для проверки основной функциональности. Для их запуска из корневой директории проекта выполните команду:

```bash
php artisan test
```
